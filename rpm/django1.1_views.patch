--- web/views.py	2010-12-22 23:04:46.825283001 +0100
+++ web/views.centos.py	2010-12-24 15:32:00.060207997 +0100
@@ -16,7 +16,6 @@
 from django.contrib.auth import authenticate
 from django.contrib.auth.decorators import login_required
 from django.contrib.auth import logout
-from django.views.decorators.csrf import csrf_exempt
 
 
 supported_client=("0.5")
@@ -385,7 +384,6 @@
 
 
 # REST methods
-@csrf_exempt
 def call_test(request):
     uuid = request.POST[u'uuid']
     version = request.POST[u'version']
@@ -406,7 +404,6 @@
             #no host found
             return HttpResponse("ERROR3")
 
-@csrf_exempt
 def call_set_release(request):
     uuid = request.POST[u'uuid']
     try:
@@ -418,7 +415,6 @@
         # can set the release
         return HttpResponse("ERROR4")
 
-@csrf_exempt
 def call_packs_done(request):
     uuid = request.POST[u'uuid']
     host = Host.objects.get(hash=uuid)
@@ -463,7 +459,6 @@
             servpack.save()
     return HttpResponse("Packages updated")
 
-@csrf_exempt
 def call_send_list(request):
     uuid = request.POST[u'uuid']
     packages = request.POST[u'packages']      
@@ -496,7 +491,6 @@
 
     return HttpResponse("Ok")
         
-@csrf_exempt
 def call_send_install(request):
     uuid = request.POST[u'uuid']
     host = Host.objects.get(hash=uuid)
@@ -507,7 +501,6 @@
     json_value = json.dumps(packages_install_list)
     return HttpResponse(json_value, mimetype="application/javascript") 
 
-@csrf_exempt
 def call_send_ask_update(request):
     uuid = request.POST[u'uuid']
     host = Host.objects.get(hash=uuid)
@@ -518,7 +511,6 @@
     json_value = json.dumps(packages_install_list)
     return HttpResponse(json_value, mimetype="application/javascript") 
 
-@csrf_exempt
 def call_send_changelog(request):
     pack_id = request.POST[u'pack_id']
     changelog = request.POST[u'changelog']
@@ -533,7 +525,6 @@
             change.save()
     return HttpResponse("changelog added")            
 
-@csrf_exempt
 def call_send_update(request):
     uuid = request.POST[u'uuid']
     host = Host.objects.get(hash=uuid)
@@ -570,7 +561,6 @@
             #packages_install_list.append("|")
     return HttpResponse(pack.pk) 
 
-@csrf_exempt
 def call_send_sync(request):
     uuid = request.POST[u'uuid']
     host = Host.objects.get(hash=uuid)
@@ -625,7 +615,6 @@
                 package.save()
     return HttpResponse("synced : %s updated, %s added, %s synced, %s deleted" % (tot_updated,tot_added,tot_synced,tot_deleted))
 
-@csrf_exempt
 def call_setup(request):
     # search it there is a contract on which we can attach the host
     license_tosearch = request.POST[u'license']
@@ -660,19 +649,16 @@
     #return HttpResponse(json_value, mimetype="application/javascript")
     return HttpResponse(host.hash)
 
-@csrf_exempt
 def call_send_metainfo(request):
     if request.POST[u'metainfo']:
         parseMetaInfo(request.POST[u'metainfo'])
     return HttpResponse("metainfo saved")
 
-@csrf_exempt
 def call_send_metabug(request):
     if request.POST[u'metabug']:
         parseMetaBug(request.POST[u'metabug'],True)
     return HttpResponse("metabug saved")
 
-@csrf_exempt
 def parseMetaInfo(metainfo):
     metadata=json.loads(metainfo)
     if not isinstance(metadata,list):
@@ -697,7 +683,6 @@
                 my_metainfo.save()
     return True
                 
-@csrf_exempt
 def parseMetaBug(metabug,onerecord=False):
     # save the bug info            
     if onerecord:
